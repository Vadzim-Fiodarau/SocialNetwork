{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/users/users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","components/Dialogs/Mesages/Message.module.css","components/Profile/MyPosts/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","redux/dialogs-reducer.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Mesages/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/WithAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","api/api.ts","redux/users-reducer.ts","assets/img/users.jpg","components/users/Users.tsx","assets/img/preloader.gif","common/Preloader/Preloader.tsx","components/users/UsersContainer.tsx","components/Profile/MyPosts/ProfileInfo/ProfileStatus.tsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","App.tsx","reportWebVitals.ts","redux/sidebar-reducer.tsx","redux/redux-store.tsx","index.tsx"],"names":["module","exports","Navbar","className","classes","nav","item","to","activeClassName","s","activeLink","News","Music","Settings","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","initialState","dialogs","id","name","src","messages","message","newMessageBody","DialogItem","props","path","dialogsItem","active","img","Message","Dialogs","state","dialogsPage","dialogsElements","map","d","messagesElements","m","onChange","e","body","target","value","updateNewMessageBody","placeholder","onClick","sendMessage","mapStateToPropsForRedirect","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","restProps","React","connect","compose","dispatch","type","updateNewMessageBodyCreator","instance","axios","create","withCredentials","baseURL","headers","userAPI","currentPage","pageSize","get","then","response","data","post","delete","userId","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","toggleIsFetching","toggleIsFollowingProgress","usersReducer","action","u","followed","totalCount","filter","Users","pagesCount","Math","ceil","pages","i","push","p","styles","selectedPage","onPageChanged","photos","small","userPhoto","disabled","some","unFollow","follow","Preloader","preloader","UsersContainer","pageNumber","getUsers","usersPage","setCurrentPage","setUsers","items","userID","resultCode","ProfileStatus","editMode","activatedEditMode","setState","deactivatedEditMode","onStatusChange","currentTarget","prevProps","prevState","onDoubleClick","autoFocus","onBlur","ProfileInfo","profile","descriptionBlock","large","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","lookingForAJob","lookingForAJobDescription","fullName","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_TYPE","SET_STATUS","posts","likeCounter","newPostText","setStatus","Post","MyPosts","elementsPosts","postBlock","text","updateNewPostText","addPost","MyPostsContainer","profilePage","newText","updateNewPostTextActionCreator","Profile","ProfileContainer","match","params","getUserProfile","getUserStatus","withRouter","Header","header","loginBlock","login","SET_USER_DATA","email","HeaderContainer","getAuthUserData","setAuthUserData","Login","App","render","DialogsContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","newPost","sidebar","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,YAAc,gCAAgC,OAAS,2BAA2B,IAAM,0B,mBCA1GD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,aAAe,8B,mBCAtED,EAAOC,QAAU,CAAC,UAAY,2BAA2B,MAAQ,yB,mBCAjED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,mBCA/DD,EAAOC,QAAU,CAAC,SAAW,0BAA0B,QAAU,2B,mBCAjED,EAAOC,QAAU,CAAC,iBAAmB,wC,mBCArCD,EAAOC,QAAU,CAAC,KAAO,qB,4DCAzBD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,6B,wHC8BtEC,EAzBA,WACX,OACI,sBAAKC,UAAWC,IAAQC,IAAxB,UACI,qBAAKF,UAAWC,IAAQE,KAAxB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBC,IAAEC,WAA1C,uBAEJ,qBAAKP,UAAWC,IAAQE,KAAxB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBC,IAAEC,WAA1C,uBAEN,qBAAKP,UAAWC,IAAQE,KAAxB,SACE,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBC,IAAEC,WAAxC,qBAEA,qBAAKP,UAAWC,IAAQE,KAAxB,SACI,cAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiBC,IAAEC,WAAvC,oBAEJ,qBAAKP,UAAWC,IAAQE,KAAxB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBC,IAAEC,WAAxC,qBAEJ,qBAAKP,UAAWC,IAAQE,KAAxB,SACI,cAAC,IAAD,CAASC,GAAG,YAAYC,gBAAiBC,IAAEC,WAA3C,4B,OCZDC,EATD,WACV,OACI,wCCOOC,EATA,WACX,OACI,yCCOOC,EATG,WACd,OACI,4C,eCIFC,EAA0B,0BAC1BC,EAAe,eAOfC,EAAe,CACjBC,QAAS,CACL,CACIC,GAAI,EACJC,KAAM,QACNC,IAAK,uJAET,CACIF,GAAI,EACJC,KAAM,OACNC,IAAK,wIAET,CACIF,GAAI,EACJC,KAAM,OACNC,IAAK,8EAET,CACIF,GAAI,EACJC,KAAM,QACNC,IAAK,mFAET,CACIF,GAAI,EACJC,KAAM,SACNC,IAAK,0FAKbC,SAAU,CACN,CAACH,GAAI,EAAGI,QAAS,MACjB,CAACJ,GAAI,EAAGI,QAAS,sBACjB,CAACJ,GAAI,EAAGI,QAAS,MACjB,CAACJ,GAAI,EAAGI,QAAS,MACjB,CAACJ,GAAI,EAAGI,QAAS,OAErBC,eAAgB,I,kCC7BLC,EAVI,SAACC,GAChB,IAAIC,EAAO,YAAcD,EAAMP,GAE/B,OACQ,qBAAKf,UAAWM,IAAEkB,YAAc,IAAMlB,IAAEmB,OAAxC,SACI,eAAC,IAAD,CAASrB,GAAImB,EAAb,cAAoB,qBAAKvB,UAAWM,IAAEoB,IAAKT,IAAKK,EAAML,MAAtD,KAA+DK,EAAMN,KAArE,U,iBCiBGW,EAzBH,SAACL,GAQT,OACI,8BACI,8BACI,qBAAKtB,UAAWM,IAAEa,QAAlB,SAA4BG,EAAMH,eC2CvCS,EAnDC,SAACN,GAEf,IAAIO,EAAQP,EAAMQ,YAEdC,EAAkBF,EAAMf,QACzBkB,KAAI,SAACC,GAAD,OAAkD,cAAC,EAAD,CACrDjB,KAAMiB,EAAEjB,KAAMD,GAAIkB,EAAElB,GAAIE,IAAKgB,EAAEhB,SAG/BiB,EAAmBL,EAAMX,SAC1Bc,KAAI,SAACG,GAAD,OAAyC,cAAC,EAAD,CAAShB,QAASgB,EAAEhB,QACXJ,GAAIoB,EAAEpB,QAG3DK,EAAiBS,EAAMT,eAa3B,OAEE,sBAAKpB,UAAWM,IAAEQ,QAAlB,UACE,qBAAKd,UAAWM,IAAEkB,YAAlB,SACGO,IAEH,sBAAK/B,UAAWM,IAAEY,SAAlB,UACE,8BAAMgB,IACN,gCACE,8BAAK,0BACHE,SAhBe,SAACC,GACxB,IAAIC,EAAOD,EAAEE,OAAOC,MACpBlB,EAAMmB,qBAAqBH,IAenBE,MAAOpB,EACPsB,YAAa,sBAEf,8BACE,wBAAQC,QAzBO,WACvBrB,EAAMsB,eAwBE,8B,uDCjDNC,EAA6B,SAAChB,GAClC,MAAO,CACLiB,OAAQjB,EAAMkB,KAAKD,SAIhB,SAASE,EAAqBC,GAA8B,IAC3DC,EAD0D,4JAE9D,WAAU,IAAD,EACwBC,KAAK7B,MAA7BwB,EADA,EACAA,OAAWM,EADX,0BAEP,OAAKN,EAEE,cAACG,EAAD,eAAcG,IAFD,cAAC,IAAD,CAAUhD,GAAI,eAJ0B,GAChCiD,IAAMJ,WAUtC,OADuCK,YAAQT,EAARS,CAAoCJ,GCZ7E,IAuBeK,cACbD,aAxBsB,SAACzB,GACrB,MAAO,CACHC,YAAaD,EAAMC,gBAGA,SAAC0B,GACxB,MAAO,CACHf,qBAAsB,SAACH,GACnBkB,EL4D+B,SAAClB,GAAD,MACtC,CAACmB,KAAM9C,EAAyB2B,KAAMA,GK7DtBoB,CAA4BpB,KAEzCM,YAAa,WACTY,ELuDoD,CAACC,KAAM7C,SKzCrEoC,EAFaO,CAGb3B,G,QCrCI+B,E,OAAWC,EAAMC,OAAO,CAC5BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACP,UAAW,0CAIFC,EAAU,SACXC,EAAqBC,GAC7B,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IACpDE,MAAK,SAAAC,GACJ,OAAOA,EAASC,SAJXN,EAAU,SAOZlD,GACP,OAAO4C,EAASa,KAAT,iBAAwBzD,IAC5BsD,MAAK,SAAAC,GACJ,OAAOA,EAASC,SAVXN,EAAU,SAaVlD,GACX,OAAO4C,EAASc,OAAT,iBAA0B1D,IAC9BsD,MAAK,SAAAC,GACJ,OAAOA,EAASC,SAhBTN,EAAU,SAmBVS,GAGT,OAFAC,QAAQC,KAAK,6CAENC,EAAWC,WAAWJ,IAIpBG,EAAa,CACxBC,WADwB,SACbJ,GACT,OAAQf,EAASS,IAAI,WAAaM,IAEpCK,UAJwB,SAIdL,GACR,OAAOf,EAASS,IAAI,kBAAoBM,IAE1CM,aAPwB,SAOXC,GACX,OAAOtB,EAASuB,IAAT,kBAAgC,CAACD,aAI/BE,EAAU,WAEpB,OAAQxB,EAASS,IAAT,YC9CLgB,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAqB,qBACrBC,GAA+B,+BA0G/B7E,GAA+B,CACnC8E,MAAO,GACPxB,SAAU,EACVyB,gBAAiB,EACjB1B,YAAa,EACb2B,YAAY,EACZC,oBAAqB,IAqEVC,GAAmB,SAACF,GAAD,MAC7B,CAACpC,KAAMgC,EAAoBI,eACjBG,GAA4B,SAACH,EAAqBnB,GAAtB,MACtC,CAACjB,KAAMiC,GAA8BG,aAAYnB,WAuCrCuB,GA5GM,WAC2C,IAD1CpE,EACyC,uDADjBhB,GACxBqF,EAAyC,uCAC7D,OAAQA,EAAOzC,MACb,KAAK2B,EACH,OAAO,2BACFvD,GADL,IAEE8D,MAAO9D,EAAM8D,MAAM3D,KAAI,SAAAmE,GACrB,OAAIA,EAAEpF,KAAOmF,EAAOxB,OACX,2BAAIyB,GAAX,IAAcC,UAAU,IAEnBD,OAGb,KAAKd,EACH,OAAO,2BACFxD,GADL,IAEE8D,MAAO9D,EAAM8D,MAAM3D,KAAI,SAAAmE,GACrB,OAAIA,EAAEpF,KAAOmF,EAAOxB,OACX,2BAAIyB,GAAX,IAAcC,UAAU,IAEnBD,OAGb,KAAKb,EACH,OAAO,2BACFzD,GADL,IACY8D,MAAOO,EAAOP,QAG5B,KAAKJ,EACH,OAAO,2BACF1D,GADL,IACYqC,YAAagC,EAAOhC,cAElC,KAAKsB,EACH,OAAO,2BACF3D,GADL,IACY+D,gBAAiBM,EAAOG,aAGtC,KAAKZ,EACH,OAAO,2BACF5D,GADL,IACYgE,WAAYK,EAAOL,aAGjC,KAAKH,GACH,OAAO,2BACF7D,GADL,IAEEiE,oBAAqBI,EAAOL,WAAP,sBACbhE,EAAMiE,qBADO,CACcI,EAAOxB,SACtC7C,EAAMiE,oBAAoBQ,QAAO,SAAAvF,GAAE,OAAIA,IAAOmF,EAAOxB,YAG7D,QACE,OAAO7C,I,oBChLE,OAA0B,kCCsB5B0E,GAAQ,SAACjF,GAGpB,IAFA,IAAIkF,EAAaC,KAAKC,KAAKpF,EAAMsE,gBAAkBtE,EAAM6C,UACrDwC,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC/BD,EAAME,KAAKD,GAIb,OACE,gCACE,8BAEID,EAAM3E,KAAI,SAAA8E,GACR,OAAO,sBACL9G,UAAWsB,EAAM4C,cAAgB4C,EAAIC,KAAOC,aAAe,GAC3DrE,QAAS,WACPrB,EAAM2F,cAAcH,IAHjB,SAKLA,SAONxF,EAAMqE,MAAM3D,KAAI,SAAAmE,GAAC,OAAI,gCACV,iCACI,8BACE,cAAC,IAAD,CAAS/F,GAAI,YAAc+F,EAAEpF,GAA7B,SACE,qBACEE,IAAwB,OAAnBkF,EAAEe,OAAOC,MAAiBhB,EAAEe,OAAOC,MAAQC,GAChDpH,UAAW+G,KAAOK,gBAGxB,8BAEMjB,EAAEC,SACE,wBACAiB,SAAU/F,EAAMwE,oBAAoBwB,MAAK,SAAAvG,GAAE,OAAIA,IAAOoF,EAAEpF,MACxD4B,QAAS,kBAAMrB,EAAMiG,SAASpB,EAAEpF,KAFhC,sBAIA,wBACAsG,SAAU/F,EAAMwE,oBAAoBwB,MAAK,SAAAvG,GAAE,OAAIA,IAAOoF,EAAEpF,MACxD4B,QAAS,kBAAMrB,EAAMkG,OAAOrB,EAAEpF,KAF9B,yBAMvB,iCACa,iCACI,8BAAMoF,EAAEnF,OACR,8BAAMmF,EAAElB,YAEZ,iCACI,8BAAM,uBACN,8BAAM,4BA7BMkB,EAAEpF,WC/C1B,OAA0B,sCCI5B0G,GAAY,WAEvB,OACE,8BACE,qBAAKxG,IAAKyG,QCwCVC,G,4MAMJV,cAAgB,SAACW,GACf,EAAKtG,MAAMuG,SAASD,EAAY,EAAKtG,MAAM6C,W,uDAL7C,WACEhB,KAAK7B,MAAMuG,SAAS1E,KAAK7B,MAAM4C,YAAaf,KAAK7B,MAAM6C,Y,oBAOzD,WAEE,OAAO,qCACJhB,KAAK7B,MAAMuE,WAAa,cAAC,GAAD,IAAe,KACxC,cAAC,GAAD,CAAOD,gBAAiBzC,KAAK7B,MAAMsE,gBAC5BzB,SAAUhB,KAAK7B,MAAM6C,SACrBD,YAAaf,KAAK7B,MAAM4C,YACxB+C,cAAe9D,KAAK8D,cACpBtB,MAAOxC,KAAK7B,MAAMqE,MAClBK,0BAA2B7C,KAAK7B,MAAM0E,0BACtCF,oBAAqB3C,KAAK7B,MAAMwE,oBAChC0B,OAAQrE,KAAK7B,MAAMkG,OACnBD,SAAUpE,KAAK7B,MAAMiG,kB,GAtBLlE,IAAMJ,WAuCpBD,KAAiBM,aAXR,SAACzB,GACvB,MAAO,CACL8D,MAAO9D,EAAMiG,UAAUnC,MACvBxB,SAAUtC,EAAMiG,UAAU3D,SAC1ByB,gBAAiB/D,EAAMiG,UAAUlC,gBACjC1B,YAAarC,EAAMiG,UAAU5D,YAC7B2B,WAAYhE,EAAMiG,UAAUjC,WAC5BC,oBAAqBjE,EAAMiG,UAAUhC,uBAKtB,CACjBiC,eLkG4B,SAAC7D,GAAD,MAC3B,CAACT,KAAM8B,EAAkBrB,gBKlG1B8B,6BACA6B,SL0GsB,SAAC3D,EAAqBC,GAC5C,OAAO,SAACX,GACNA,EAASuC,IAAiB,IAE1B9B,EAAiBC,EAAaC,GAAUE,MAAK,SAAAE,GAZf,IAAC8B,EAa7B7C,EAASuC,IAAiB,IAC1BvC,EAlBkB,SAACmC,GAAD,MACrB,CAAClC,KAAM6B,EAAWK,SAiBNqC,CAASzD,EAAK0D,QACvBzE,GAf6B6C,EAeD9B,EAAK8B,WAdpC,CAAC5C,KAAM+B,EAAiBa,qBKlGzBmB,OLqHoB,SAACU,GACrB,OAAO,SAAC1E,GACNA,EAASwC,IAA0B,EAAMkC,IACzCjE,EAAiBiE,GAAQ7D,MAAK,SAAAE,GACJ,IAApBA,EAAK4D,YACP3E,EAhCL,CAACC,KAAM2B,EAAQV,OAgCawD,IAEzB1E,EAASwC,IAA0B,EAAOkC,SK3H9CX,SLgIsB,SAACW,GACvB,OAAO,SAAC1E,GACNA,EAASwC,IAA0B,EAAMkC,IACzCjE,EAAmBiE,GAAQ7D,MAAK,SAAAE,GACN,IAApBA,EAAK4D,YACP3E,EA1CL,CAACC,KAAM4B,EAAUX,OA0CawD,IAE3B1E,EAASwC,IAA0B,EAAOkC,UK7IhB5E,CAO7BqE,K,oBChCYS,G,4MApDbvG,MAAQ,CACNwG,UAAU,EACVpD,OAAQ,EAAK3D,MAAM2D,Q,EAErBqD,kBAAoB,WAClB,EAAKC,SAAS,CACZF,UAAU,K,EAIdG,oBAAsB,WACpB,EAAKD,SAAS,CACZF,UAAU,IAEZ,EAAK/G,MAAM0D,aAAa,EAAKnD,MAAMoD,S,EAGrCwD,eAAiB,SAACpG,GAChB,EAAKkG,SAAS,CACZtD,OAAQ5C,EAAEqG,cAAclG,S,wDAI5B,SAAmBmG,EAAwCC,GACrDD,EAAU1D,SAAW9B,KAAK7B,MAAM2D,QAClC9B,KAAKoF,SAAS,CACZtD,OAAQ9B,KAAK7B,MAAM2D,W,oBAMzB,WACE,OACE,iCACI9B,KAAKtB,MAAMwG,UACb,8BACI,sBACIQ,cAAe1F,KAAKmF,kBADxB,SAC4CnF,KAAK7B,MAAM2D,WAG1D9B,KAAKtB,MAAMwG,UACZ,8BACI,uBAAOS,WAAW,EAAMC,OAAQ5F,KAAKqF,oBAC9BhG,MAAOW,KAAKtB,MAAMoD,OAAQ7C,SAAUe,KAAKsF,0B,GA7ChCpF,IAAMJ,WCsCnB+F,GAhCK,SAAC1H,GACnB,OAAIA,EAAM2H,QAKJ,8BAMI,sBAAKjJ,UAAWM,KAAE4I,iBAAlB,UACE,qBAAKjI,IAAKK,EAAM2H,QAAQ/B,OAAOiC,QAC/B,8BAAM7H,EAAM2H,QAAQG,UACpB,8BAAM9H,EAAM2H,QAAQI,SAASC,WAC7B,8BAAMhI,EAAM2H,QAAQI,SAASE,UAC7B,8BAAMjI,EAAM2H,QAAQI,SAASG,KAC7B,8BAAMlI,EAAM2H,QAAQI,SAASI,UAC7B,8BAAMnI,EAAM2H,QAAQI,SAASK,YAC7B,8BAAMpI,EAAM2H,QAAQI,SAASM,UAC7B,+BAAuC,IAAjCrI,EAAM2H,QAAQW,eAChB,qBAAK3I,IAAK,kEACV,OACJ,8BAAMK,EAAM2H,QAAQY,4BACpB,8BAAMvI,EAAM2H,QAAQa,WAClB,cAAC,GAAD,CAAe7E,OAAQ3D,EAAM2D,OAAQD,aAAc1D,EAAM0D,oBAxB9D,cAAC,GAAD,KCPL+E,GAAW,WACXC,GAAuB,uBACvBC,GAAgB,gBAChBC,GAAa,aA+BbrJ,GAAe,CACnBsJ,MAAO,CACL,CAACpJ,GAAI,EAAGI,QAAS,sBAAuBiJ,YAAa,IACrD,CAACrJ,GAAI,EAAGI,QAAS,sBAAuBiJ,YAAa,KAEvDC,YAAa,GACbpB,QAAS,KACThE,OAAQ,IAuDJqF,GAAY,SAACrF,GAAD,MAEf,CAACxB,KAAMyG,GAAYjF,W,wCCtFPsF,GAdF,SAACjJ,GACV,OAEQ,sBAAKtB,UAAWC,KAAQE,KAAxB,UACI,qBAAKc,IAAI,4EACRK,EAAMH,QACP,gCACA,yCACI,+BAAOG,EAAM8I,qBCyClBI,GAnCC,SAAClJ,GAEb,IAAImJ,EAAgBnJ,EAAM6I,MACrBnI,KAAI,SAAC8E,GAAD,OACH,cAAC,GAAD,CAAM3F,QAAS2F,EAAE3F,QAASiJ,YAAatD,EAAEsD,iBAW/C,OACI,sBAAKpK,UAAWC,KAAQyK,UAAxB,UACI,0CACA,gCACI,8BACI,0BAAUlI,MAAOlB,EAAM+I,YAAajI,SAVjC,SAACC,GAChB,IAAIsI,EAAOtI,EAAEqG,cAAclG,MAC3BlB,EAAMsJ,kBAAkBD,QAUhB,8BACI,wBAAQhI,QAjBR,WACZrB,EAAMuJ,WAgBM,2BAIR,qBAAK7K,UAAWC,KAAQkK,MAAxB,SACKM,QCOJK,GAAmBxH,aAjBR,SAACzB,GACrB,MAAO,CACHsI,MAAOtI,EAAMkJ,YAAYZ,MACzBE,YAAaxI,EAAMkJ,YAAYV,gBAGZ,SAAC7G,GACxB,MAAO,CACHqH,QAAS,WACLrH,EH+Cc,CAACC,KAAMsG,MG7CzBa,kBAAmB,SAACD,GAChB,IAAIzE,EH8C8B,SAACyE,GAAD,MAE3C,CAAClH,KAAMuG,GAAsBgB,QAASL,GGhDhBM,CAA+BN,GAC5CnH,EAAS0C,OAIW5C,CAA6CkH,ICvC9DU,GAZC,SAAC5J,GACT,OACI,gCACI,cAAC,GAAD,CACE2H,QAAS3H,EAAM2H,QACfhE,OAAQ3D,EAAM2D,OACdD,aAAc1D,EAAM0D,eACtB,cAAC8F,GAAD,QCoBVK,G,uKAEJ,WACE,IAAIzG,EAASvB,KAAK7B,MAAM8J,MAAMC,OAAO3G,OACjCA,IACFA,EAAS,KAEXvB,KAAK7B,MAAMgK,gBAAgB5G,GAC3BvB,KAAK7B,MAAMiK,eAAe7G,K,oBAI5B,WACE,OACE,8BACE,cAAC,GAAD,CACEuE,QAAS9F,KAAK7B,MAAM2H,QACpBhE,OAAS9B,KAAK7B,MAAM2D,OACpBD,aAAgB7B,KAAK7B,MAAM0D,qB,GAlBN3B,IAAMJ,WAuCtBM,eACbD,aAXsB,SAACzB,GACvB,MAAO,CACLoH,QAASpH,EAAMkJ,YAAY9B,QAC3BhE,OAAQpD,EAAMkJ,YAAY9F,UAQH,CAACqG,eLqCE,SAAC5G,GAAD,OAAmB,SAAClB,GAChDS,EAAmBS,GAAQL,MAAK,SAAAC,GATX,IAAC2E,EAUrBzF,GAVqByF,EAUG3E,EAASC,KARjC,CAACd,KAAMwG,GAAehB,kBK/BmBsC,cL2Cf,SAAC7G,GAAD,OAAmB,SAAClB,GAC/CqB,EAAWE,UAAUL,GAClBL,MAAK,SAAAC,GACNd,EAAS8G,GAAUhG,EAASC,YK9C2BS,aLkD/B,SAACC,GAAD,OAAmB,SAACzB,GAC9CqB,EAAWG,aAAaC,GACrBZ,MAAK,SAAAC,GAC4B,IAA7BA,EAASC,KAAK4D,YAEhB3E,EAAS8G,GAAUrF,WKtDxBuG,IAFajI,CAIb4H,I,oBCtDaM,GAbA,SAACnK,GACd,OACE,yBAAQtB,UAAWC,KAAQyL,OAA3B,UACE,qBACEzK,IAAI,4EACN,qBAAKjB,UAAWC,KAAQ0L,WAAxB,SACIrK,EAAMwB,OAASxB,EAAMsK,MACrB,cAAC,IAAD,CAASxL,GAAI,SAAb,2BCXJyL,GAAgB,gBAShBhL,GAAe,CACnB6D,OAAQ,KACRoH,MAAO,KACPF,MAAO,KACP9I,QAAQ,GCDJiJ,G,uKACJ,WACE5I,KAAK7B,MAAM0K,oB,oBAGb,WACE,OAAO,cAAC,GAAD,CAAQlJ,OAAQK,KAAK7B,MAAMwB,OACnB8I,MAAOzI,KAAK7B,MAAMsK,Y,GAPPvI,IAAMJ,WAiBrBK,gBALS,SAACzB,GAAD,MAA+C,CACrEiB,OAAQjB,EAAMkB,KAAKD,OACnB8I,MAAO/J,EAAMkB,KAAK6I,SAGoB,CAACI,gBDKV,kBAAM,SAACxI,GACpC2B,IACGd,MAAK,SAAAC,GACJ,GAAiC,IAA7BA,EAASC,KAAK4D,WAAkB,CAAC,IAAD,EACT7D,EAASC,KAAKA,KAAlCxD,EAD6B,EAC7BA,GAAI6K,EADyB,EACzBA,MAAOE,EADkB,EAClBA,MAChBtI,EARgB,SAACkB,EAAcoH,EAAaF,GAA5B,MACrB,CAACnI,KAAMoI,GAAetH,KAAM,CAACG,SAAQoH,QAAOF,UAO9BK,CAAgBlL,EAAI+K,EAAOF,WCV7BtI,CAA4CyI,IClC9CG,GAAQ,WACnB,OACE,wCCkCWC,OAtBf,WAGE,OACE,cAAC,IAAD,UACE,sBAAKnM,UAAU,cAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAW,sBAAhB,UACE,cAAC,IAAD,CAAOuB,KAAK,WAAW6K,OAAQ,kBAAM,cAACC,EAAD,OACrC,cAAC,IAAD,CAAO9K,KAAK,oBAAoB6K,OAAQ,kBAAM,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAO7K,KAAK,QAAQ6K,OAAQ,kBAAM,cAAC,EAAD,OAClC,cAAC,IAAD,CAAO7K,KAAK,SAAS6K,OAAQ,kBAAM,cAAC,EAAD,OACnC,cAAC,IAAD,CAAO7K,KAAK,YAAY6K,OAAQ,kBAAM,cAAC,EAAD,OACtC,cAAC,IAAD,CAAO7K,KAAK,SAAS6K,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAO7K,KAAK,SAAS6K,OAAQ,kBAAM,cAAC,GAAD,gBCf9BE,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBnI,MAAK,YAAkD,IAA/CoI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCLR1L,GAAe,G,SCMfiM,GAAcC,YAAgB,CAClChC,Yb4C4B,WAC2B,IAD1BlJ,EACyB,uDADMhB,GAC/BqF,EAAyB,uCAEtD,OAAQA,EAAOzC,MACb,KAAKsG,GACH,IAAIiD,EAAU,CACZjM,GAAI,EACJI,QAASU,EAAMwI,YACfD,YAAa,GAEf,OAAO,2BACFvI,GADL,IAEEsI,MAAM,GAAD,mBAAMtI,EAAMsI,OAAZ,CAAmB6C,IACxB3C,YAAa,KAGjB,KACAL,GACE,OAAO,2BACFnI,GADL,IAEEwI,YAAanE,EAAO8E,UAExB,KACAd,GACE,OAAO,2BACFrI,GADL,IAEEoD,OAAQiB,EAAOjB,SAEnB,KACAgF,GACE,OAAO,2BACFpI,GADL,IAEEoH,QAAS/C,EAAO+C,UAEpB,QACE,OAAOpH,Ia9EXC,Y5B8C4B,WAAwE,IAAvED,EAAsE,uDAAvChB,EAAcqF,EAAyB,uCACjG,OAAQA,EAAOzC,MACX,KAAK9C,EACD,OAAO,2BACAkB,GADP,IAEIT,eAAgB8E,EAAO5D,OAE/B,KAAK1B,EACD,IAAI0B,EAAOT,EAAMT,eACjB,OAAO,2BACAS,GADP,IAEIT,eAAgB,GAChBF,SAAS,GAAD,mBAAMW,EAAMX,UAAZ,CAAsB,CAACH,GAAI,EAAGI,QAASmB,OAEvD,QACI,OAAOT,I4B5DjBoL,QDP4B,WAAqE,IAApEpL,EAAmE,uDAAtChB,GACxD,OAAOgB,GCOTiG,UAAW7B,GACXlD,KNMyB,WAAgE,IAA/DlB,EAA8D,uDAAvChB,GAAcqF,EAAyB,uCACxF,OAAQA,EAAOzC,MACb,KAAKoI,GACH,OAAO,uCACFhK,GACAqE,EAAO3B,MAFZ,IAGEzB,QAAQ,IAEZ,QACE,OAAOjB,MMZPqL,GAAQC,YAAYL,GAAaM,YAAgBC,OAEvDC,OAAOJ,MAAQA,GACAA,UCRXK,IAASnB,OACL,cAAC,IAAD,UACI,cAAC,IAAD,CAAUc,MAAOA,GAAjB,SACA,cAAC,GAAD,QAEcM,SAASC,eAAe,SAYlDnB,O","file":"static/js/main.32fbb97f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2A2-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItem\":\"DialogItem_dialogsItem__EkYNt\",\"active\":\"DialogItem_active__34BdS\",\"img\":\"DialogItem_img__1qoc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3_GiW\",\"selectedPage\":\"users_selectedPage__2lK1t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__ZllVQ\",\"posts\":\"MyPosts_posts__2J3c4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__awzB9\",\"loginBlock\":\"Header_loginBlock__3k2ZH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__1sTUN\",\"message\":\"Message_message__1H2F1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3ZXvl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__TQXH5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1fzNT\",\"item\":\"Navbar_item__2KL9v\",\"activeLink\":\"Navbar_activeLink__2OYrY\"};","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport classes from './Navbar.module.css'\r\nimport s from './Navbar.module.css'\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Message</NavLink>\r\n            </div>\r\n          <div className={classes.item}>\r\n            <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n          </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from 'react';\r\n\r\n\r\n\r\nconst  News = () => {\r\n    return(\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default News","import React from 'react';\r\n\r\n\r\n\r\nconst  Music = () => {\r\n    return(\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Music","import React from 'react';\r\n\r\n\r\n\r\nconst  Settings = () => {\r\n    return(\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Settings","\r\nimport {messagesTypes} from \"../components/Dialogs/Mesages/Message\";\r\nimport {dialogsTypes} from \"../components/Dialogs/DialogItem/DialogItem\";\r\nimport {\r\n    ActionsTypes,\r\n    SendMessageActionType,\r\n    UpdateNewMessageBodyActionType\r\n} from \"./users-reducer\";\r\n\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY'\r\nconst SEND_MESSAGE = 'SEND-MESSAGE'\r\ntype StateDialogsPropsType = {\r\n    messages: Array<messagesTypes>\r\n    dialogs: Array<dialogsTypes>\r\n    newMessageBody: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Vadim',\r\n            src: 'https://sun9-75.userapi.com/impf/c630924/v630924802/1446a/s33tSPeU4Ik.jpg?size=720x1080&quality=96&sign=b00fd02c1e71a239a074008d458dcc40&type=album'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Kate',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTirwV3sJSSt0Xf8C43cLbEv2sJR_qWmMpAKnEhdmZbl2b8Cnu8LKZ_CDDvidqsKm4-00k&usqp=CAU'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Alex',\r\n            src: 'https://www.interfax.ru/ftproot/photos/photostory/2019/07/09/week4_700.jpg'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Sveta',\r\n            src: 'https://www.istockphoto.com/resources/images/PhotoFTLP/Signature-1205756464.jpg'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Dimych',\r\n            src: 'https://st4.styapokupayu.ru/images/blog_posts/covers/000/136/369_large.jpg?1576853877'\r\n        },\r\n\r\n\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your going?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ],\r\n    newMessageBody: ''\r\n}\r\n\r\nexport const dialogsReducer = (state: StateDialogsPropsType = initialState, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.body\r\n            }\r\n        case SEND_MESSAGE:\r\n            let body = state.newMessageBody;\r\n            return {\r\n                ...state,\r\n                newMessageBody: '',\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const sendMessageCreator = (): SendMessageActionType => ({type: SEND_MESSAGE}) as SendMessageActionType\r\n\r\nexport const updateNewMessageBodyCreator = (body: string): UpdateNewMessageBodyActionType =>\r\n    ({type: UPDATE_NEW_MESSAGE_BODY, body: body})","import s from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nexport type DialogItemProps = {\r\n    id: number\r\n    name: string\r\n    src:string\r\n}\r\nexport type dialogsTypes = {\r\n    id: number\r\n    name: string\r\n    src:string\r\n}\r\n\r\n\r\nconst DialogItem = (props: DialogItemProps) => {\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return (\r\n            <div className={s.dialogsItem + ' ' + s.active}>\r\n                <NavLink to={path}> <img className={s.img} src={props.src}/>  {props.name} </NavLink>\r\n\r\n            </div>\r\n    )\r\n}\r\nexport default DialogItem\r\n\r\n","import s from './Message.module.css'\r\nimport React from \"react\";\r\n\r\nexport type MessagePropsType = {\r\n    message: string\r\n    id: number\r\n}\r\nexport type messagesTypes = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\n\r\nconst Message = (props: MessagePropsType) => {\r\n\r\n    // let newMessageElement: any = React.createRef<HTMLInputElement>();\r\n    //\r\n    // let addMessage = () => {\r\n    //     let text = newMessageElement.current.value;\r\n    //      alert(text)\r\n    // }\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <div className={s.message}>{props.message}</div>\r\n                </div>\r\n                {/*<div>*/}\r\n                {/*    <div>*/}\r\n                {/*        <textarea ref={newMessageElement}></textarea>*/}\r\n                {/*    </div>*/}\r\n                {/*    <div>*/}\r\n                {/*        <button onClick={addMessage}>Add message</button>*/}\r\n                {/*    </div>*/}\r\n                {/*</div>*/}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    export default Message\r\n","import React, {ChangeEvent} from 'react';\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Mesages/Message\";\r\nimport {dialogsPagePropsType} from \"../../redux/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\ntype DialogsPropsType = {\r\n  updateNewMessageBody: (body: string) => void\r\n  sendMessage: () => void\r\n  dialogsPage: dialogsPagePropsType\r\n  isAuth: boolean\r\n\r\n}\r\n\r\nconst Dialogs = (props: DialogsPropsType) => {\r\n\r\n  let state = props.dialogsPage\r\n\r\n  let dialogsElements = state.dialogs\r\n    .map((d: { name: string; id: number; src: string }) => <DialogItem\r\n      name={d.name} id={d.id} src={d.src}/>)\r\n\r\n\r\n  let messagesElements = state.messages\r\n    .map((m: { message: string; id: number; }) => <Message message={m.message}\r\n                                                           id={m.id}/>)\r\n\r\n\r\n  let newMessageBody = state.newMessageBody\r\n\r\n\r\n  let onSendMessageClick = () => {\r\n    props.sendMessage()\r\n  }\r\n\r\n  let onNewMessageChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    let body = e.target.value\r\n    props.updateNewMessageBody(body)\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItem}>\r\n        {dialogsElements}\r\n      </div>\r\n      <div className={s.messages}>\r\n        <div>{messagesElements}</div>\r\n        <div>\r\n          <div><textarea\r\n            onChange={onNewMessageChange}\r\n            value={newMessageBody}\r\n            placeholder={'enter your name'}>\r\n                    </textarea></div>\r\n          <div>\r\n            <button onClick={onSendMessageClick}>Send</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Dialogs","import {Redirect} from \"react-router-dom\";\r\nimport React, {ComponentType} from \"react\";\r\nimport {AppPropsType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStateToPropsForRedirectType = {\r\n  isAuth: boolean\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppPropsType): MapStateToPropsForRedirectType => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport function WithAuthRedirect <T>(Component: ComponentType<T>) {\r\n  class RedirectComponent extends React.Component<MapStateToPropsForRedirectType> {\r\n    render() {\r\n      const {isAuth, ...restProps} = this.props\r\n      if (!isAuth) return <Redirect to={'/login'}/>\r\n\r\n      return <Component{...restProps as T}/>\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n  return ConnectedAuthRedirectComponent\r\n}","import React from 'react';\r\nimport {sendMessageCreator, updateNewMessageBodyCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {dialogsPagePropsType, statePropsType} from \"../../redux/store\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {AppPropsType} from \"../../redux/redux-store\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\ntype mapStateType = {\r\n    dialogsPage: dialogsPagePropsType\r\n}\r\n\r\nconst mapStateToProps = (state: AppPropsType):mapStateType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        updateNewMessageBody: (body:string) => {\r\n            dispatch(updateNewMessageBodyCreator(body))\r\n        },\r\n        sendMessage: () => {\r\n            dispatch(sendMessageCreator())\r\n        }\r\n    }\r\n}\r\n\r\n// compose(\r\n//   connect(mapStateToProps, mapDispatchToProps),\r\n//   WithAuthRedirect\r\n// )(Dialogs)\r\n//\r\n// const AuthRedirectComponent = WithAuthRedirect(Dialogs)\r\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect\r\n)(Dialogs)","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '6a839c08-d4d3-4bf1-a317-273f31facc46'\r\n  }\r\n})\r\n\r\nexport const userAPI = {\r\n  getUsers (currentPage: number, pageSize: number) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => {\r\n        return response.data\r\n      })\r\n  },\r\n  followed(id: number) {\r\n    return instance.post(`follow/${id}`)\r\n      .then(response => {\r\n        return response.data\r\n      })\r\n  },\r\n  unFollowed(id: number) {\r\n  return instance.delete(`follow/${id}`)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n},\r\n  getProfile(userId: number) {\r\n    console.warn('Obsolete method. Please profileAPI object')\r\n   // return  instance.get(`profile/` + userId)\r\n    return profileAPI.getProfile(userId)\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId: number) {\r\n    return  instance.get(`profile/` + userId)\r\n  },\r\n  getStatus(userId: number) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateStatus(status: string) {\r\n    return instance.put(`profile/status/`, {status})\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n   return  instance.get(`auth/me`)\r\n  }\r\n}\r\n\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {userAPI} from \"../api/api\";\r\nimport {ProfileResponseType} from \"./profile-reducer\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\n\r\nexport type SetUserType = {\r\n  type: 'SET-USERS'\r\n  users: initialStateType[]\r\n}\r\nexport type UnfollowActionType = {\r\n  type: 'UNFOLLOW'\r\n  userId: number\r\n}\r\nexport type FollowActionType = {\r\n  type: 'FOLLOW'\r\n  userId: number\r\n}\r\nexport type AddPostActionType = {\r\n  type: 'ADD POST'\r\n\r\n}\r\nexport type StatusActionType = {\r\n  type: 'SET-STATUS'\r\n  status: string\r\n\r\n}\r\nexport type UpdateNewPostTextActionType = {\r\n  type: 'UPDATE-NEW-POST-TEXT'\r\n  newText: string\r\n}\r\nexport type UpdateNewMessageBodyActionType = {\r\n  type: 'UPDATE-NEW-MESSAGE-BODY'\r\n  body: string\r\n}\r\nexport type SendMessageActionType = {\r\n  type: 'SEND-MESSAGE'\r\n  newMessageBody: string\r\n}\r\nexport type SetCurrentPageType = {\r\n  type: 'SET-CURRENT-PAGE'\r\n  currentPage: number\r\n}\r\nexport type SetTotalCountType = {\r\n  type: 'SET-TOTAL-COUNT'\r\n  totalCount: number\r\n}\r\nexport type ToggleIsFetchingType = {\r\n  type: 'TOGGLE-IS-FETCHING'\r\n  isFetching: boolean\r\n}\r\nexport type ToggleIsFollowingProgressType = {\r\n  type: 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n  isFetching: boolean,\r\n  userId: number,\r\n\r\n}\r\nexport type setUserProfileType = {\r\n  type: 'SET-USER-TYPE'\r\n  profile: ProfileResponseType | null\r\n}\r\nexport type authActionType = {\r\n  type: 'SET_USER_DATA'\r\n  data: {\r\n    userId: null,\r\n    email: null,\r\n    login: null\r\n  }\r\n}\r\nexport type ActionsTypes =\r\n  | AddPostActionType\r\n  | UpdateNewPostTextActionType\r\n  | UpdateNewMessageBodyActionType\r\n  | SendMessageActionType\r\n  | FollowActionType\r\n  | UnfollowActionType\r\n  | SetUserType\r\n  | SetCurrentPageType\r\n  | SetTotalCountType\r\n  | ToggleIsFetchingType\r\n  | setUserProfileType\r\n  | authActionType\r\n  | ToggleIsFollowingProgressType\r\n  | StatusActionType\r\n\r\n\r\nexport type locationType = {\r\n  city: string\r\n  country: string\r\n}\r\n\r\nexport type initialStateType = {\r\n  id: number\r\n  photos: { small: string, large: string }\r\n  followed: boolean\r\n  name: string\r\n  status: string\r\n  location: locationType\r\n\r\n}\r\nexport type statePropsType = {\r\n  users: initialStateType[]\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: []\r\n}\r\n\r\nconst initialState: statePropsType = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state: statePropsType = initialState,\r\n                      action: ActionsTypes): statePropsType => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: true}\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: false}\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case SET_USERS: {\r\n      return {\r\n        ...state, users: action.users\r\n      }\r\n    }\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state, currentPage: action.currentPage\r\n      }\r\n    case SET_TOTAL_COUNT: {\r\n      return {\r\n        ...state, totalUsersCount: action.totalCount\r\n      }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {\r\n        ...state, isFetching: action.isFetching\r\n      }\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return <statePropsType>{\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId: number): FollowActionType =>\r\n  ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId: number): UnfollowActionType =>\r\n  ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users: initialStateType[]): SetUserType =>\r\n  ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType =>\r\n  ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalCount: number): SetTotalCountType =>\r\n  ({type: SET_TOTAL_COUNT, totalCount})\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType =>\r\n  ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): ToggleIsFollowingProgressType =>\r\n  ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n  return (dispatch: Dispatch<ActionsTypes>) => {\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    userAPI.getUsers(currentPage, pageSize).then(data => {\r\n      dispatch(toggleIsFetching(false))\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n    })\r\n  }\r\n}\r\n\r\nexport const follow = (userID: number) => {\r\n  return (dispatch: Dispatch<ActionsTypes>) => {\r\n    dispatch(toggleIsFollowingProgress(true, userID))\r\n    userAPI.followed(userID).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userID))\r\n      }\r\n      dispatch(toggleIsFollowingProgress(false, userID))\r\n    })\r\n  }\r\n}\r\n\r\nexport const unFollow = (userID: number) => {\r\n  return (dispatch: Dispatch<ActionsTypes>) => {\r\n    dispatch(toggleIsFollowingProgress(true, userID))\r\n    userAPI.unFollowed(userID).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(unfollowSuccess(userID))\r\n      }\r\n      dispatch(toggleIsFollowingProgress(false, userID))\r\n    })\r\n  }\r\n}\r\n\r\nexport default usersReducer","export default __webpack_public_path__ + \"static/media/users.6f05a47e.jpg\";","import styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/img/users.jpg\";\r\nimport React from \"react\";\r\nimport {\r\n  initialStateType,\r\n} from \"../../redux/users-reducer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nexport type UsersType = {\r\n  users: initialStateType[]\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n\r\n  onPageChanged: (pageNumber: number) => void\r\n  toggleIsFollowingProgress: (isFetching: boolean, userId: number) => void\r\n  followingInProgress: []\r\n  follow: (userID: number) => void\r\n  unFollow: (userID: number) => void\r\n\r\n}\r\n\r\nexport const Users = (props: UsersType) => {\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n  let pages = []\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {\r\n          pages.map(p => {\r\n            return <span\r\n              className={props.currentPage === p ? styles.selectedPage : ''}\r\n              onClick={() => {\r\n                props.onPageChanged(p)\r\n              }}\r\n            >{p}</span>\r\n          })\r\n        }\r\n\r\n\r\n      </div>\r\n      {\r\n        props.users.map(u => <div key={u.id}>\r\n                   <span>\r\n                       <div>\r\n                         <NavLink to={'/profile/' + u.id}>\r\n                           <img\r\n                             src={u.photos.small !== null ? u.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                           </NavLink>\r\n                       </div>\r\n                       <div>\r\n                           {\r\n                             u.followed\r\n                               ? <button\r\n                                 disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                 onClick={() => props.unFollow(u.id)}>Unfollow</button>\r\n\r\n                               : <button\r\n                                 disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                 onClick={() => props.follow(u.id)}>Follow</button>\r\n                           }\r\n                       </div>\r\n                   </span>\r\n          <span>\r\n                       <span>\r\n                           <div>{u.name}</div>\r\n                           <div>{u.status}</div>\r\n                       </span>\r\n                       <span>\r\n                           <div>{'u.location.country'}</div>\r\n                           <div>{'u.location.city'}</div>\r\n                       </span>\r\n                   </span>\r\n        </div>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/preloader.4c0dabf6.gif\";","import preloader from \"../../assets/img/preloader.gif\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Preloader = () => {\r\n\r\n  return (\r\n    <div>\r\n      <img src={preloader}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  getUsers,\r\n  initialStateType,\r\n  setCurrentPage,\r\n  toggleIsFollowingProgress, unFollow,\r\n} from \"../../redux/users-reducer\";\r\nimport {AppPropsType} from \"../../redux/redux-store\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\ntype mapStateType = {\r\n  users: initialStateType[]\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: []\r\n}\r\ntype mapDispatchType = {\r\n  setCurrentPage: typeof setCurrentPage\r\n  toggleIsFollowingProgress: typeof toggleIsFollowingProgress\r\n  getUsers: typeof getUsers\r\n  follow: typeof follow\r\n  unFollow: typeof unFollow\r\n\r\n}\r\nexport type UsersAPIType = {\r\n  users: initialStateType[]\r\n  setUsers: (users: initialStateType[]) => void\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  setCurrentPage: (pageNumber: number) => void\r\n  setTotalUsersCount: (totalCount: number) => void\r\n  isFetching: boolean\r\n  toggleIsFetching: (isFetching: boolean) => void\r\n  toggleIsFollowingProgress: (isFetching: boolean, userId: number) => void\r\n  followingInProgress: []\r\n  getUsers: (currentPage: number, pageSize: number) => void\r\n  follow: (userID: number) => void\r\n  unFollow: (userID: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersAPIType> {\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n\r\n    return <>\r\n      {this.props.isFetching ? <Preloader/> : null}\r\n      <Users totalUsersCount={this.props.totalUsersCount}\r\n             pageSize={this.props.pageSize}\r\n             currentPage={this.props.currentPage}\r\n             onPageChanged={this.onPageChanged}\r\n             users={this.props.users}\r\n             toggleIsFollowingProgress={this.props.toggleIsFollowingProgress}\r\n             followingInProgress={this.props.followingInProgress}\r\n             follow={this.props.follow}\r\n             unFollow={this.props.unFollow}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppPropsType): mapStateType => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress\r\n  }\r\n}\r\n\r\nexport default WithAuthRedirect(connect<mapStateType, mapDispatchType, any, AppPropsType>(\r\n  mapStateToProps, {\r\n  setCurrentPage,\r\n  toggleIsFollowingProgress,\r\n  getUsers,\r\n  follow,\r\n  unFollow\r\n})(UsersContainer))\r\n\r\n","import React, {ChangeEvent} from \"react\";\r\nimport {updateStatus} from \"../../../../redux/profile-reducer\";\r\n\r\n\r\ntype ProfileStatusType = {\r\n  status: string\r\n  updateStatus: typeof updateStatus\r\n}\r\n\r\nclass ProfileStatus extends React.Component<ProfileStatusType> {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.status\r\n  }\r\n  activatedEditMode = () => {\r\n    this.setState({\r\n      editMode: true\r\n    })\r\n  }\r\n\r\n  deactivatedEditMode = () => {\r\n    this.setState({\r\n      editMode: false\r\n    })\r\n    this.props.updateStatus(this.state.status)\r\n  }\r\n\r\n  onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      status: e.currentTarget.value\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Readonly<ProfileStatusType>, prevState: Readonly<{}>) {\r\n    if (prevProps.status !== this.props.status) {\r\n      this.setState({\r\n        status: this.props.status\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {!this.state.editMode &&\r\n        <div>\r\n            <span\r\n                onDoubleClick={this.activatedEditMode}>{this.props.status}</span>\r\n        </div>\r\n        }\r\n        {this.state.editMode &&\r\n        <div>\r\n            <input autoFocus={true} onBlur={this.deactivatedEditMode}\r\n                   value={this.state.status} onChange={this.onStatusChange}/>\r\n        </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport s from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../../../common/Preloader/Preloader\";\r\nimport {\r\n  ProfileResponseType,\r\n  updateStatus\r\n} from \"../../../../redux/profile-reducer\";\r\nimport ProfileStatus from './ProfileStatus'\r\n\r\n\r\ntype ProfileInfoPropsType = {\r\n  profile: ProfileResponseType\r\n  status: string\r\n  updateStatus: typeof updateStatus\r\n}\r\nconst ProfileInfo = (props:ProfileInfoPropsType) => {\r\n  if(!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n\r\n    return (\r\n        <div>\r\n            {/*<div>*/}\r\n            {/*    <img*/}\r\n            {/*        src='https://buddy.ghostpool.com/wp-content/uploads/photodune-3382849-mountain3-s1-1003x480.jpg'/>*/}\r\n            {/*</div>*/}\r\n\r\n            <div className={s.descriptionBlock}>\r\n              <img src={props.profile.photos.large}/>\r\n              <div>{props.profile.aboutMe}</div>\r\n              <div>{props.profile.contacts.facebook}</div>\r\n              <div>{props.profile.contacts.website}</div>\r\n              <div>{props.profile.contacts.vk}</div>\r\n              <div>{props.profile.contacts.twitter}</div>\r\n              <div>{props.profile.contacts.instagram}</div>\r\n              <div>{props.profile.contacts.youtube}</div>\r\n              <div>{props.profile.lookingForAJob === true\r\n                ? <img src={'https://img5.okidoki.st/c/6/9/3/593086/7358148/15766165_6.jpg'}/>\r\n                : null}</div>\r\n              <div>{props.profile.lookingForAJobDescription}</div>\r\n              <div>{props.profile.fullName}</div>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import {postsType} from \"../components/Profile/MyPosts/MyPosts\";\r\nimport {\r\n  ActionsTypes,\r\n  AddPostActionType, setUserProfileType, StatusActionType,\r\n  UpdateNewPostTextActionType\r\n} from \"./users-reducer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI, userAPI} from \"../api/api\";\r\n\r\n\r\nconst ADD_POST = 'ADD POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_TYPE = 'SET-USER-TYPE';\r\nconst SET_STATUS = 'SET-STATUS';\r\n\r\nexport type stateProfilePropsType = {\r\n  posts: Array<postsType>\r\n  newPostText: string\r\n  profile: ProfileResponseType | null\r\n  status: string\r\n}\r\n\r\nexport type ProfileResponseType = {\r\n  aboutMe: string\r\n  contacts: {\r\n    facebook: string\r\n    github: string\r\n    instagram: string\r\n    mainLink: string\r\n    twitter: string\r\n    vk: string\r\n    website: string\r\n    youtube: string\r\n  }\r\n  fullName: string\r\n  lookingForAJob: boolean\r\n  lookingForAJobDescription: string\r\n  photos: {\r\n    large: string\r\n    small: string\r\n  }\r\n  userId: string | number\r\n}\r\n\r\nconst initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hello, how are you?', likeCounter: 12},\r\n    {id: 2, message: \"It's my first post!\", likeCounter: 11},\r\n  ],\r\n  newPostText: '',\r\n  profile: null,\r\n  status: ''\r\n\r\n}\r\n\r\nexport const profileReducer = (state: stateProfilePropsType = initialState,\r\n                               action: ActionsTypes) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: state.newPostText,\r\n        likeCounter: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      }\r\n    }\r\n    case\r\n    UPDATE_NEW_POST_TEXT:\r\n      return {\r\n        ...state,\r\n        newPostText: action.newText\r\n      }\r\n    case\r\n    SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    case\r\n    SET_USER_TYPE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    default:\r\n      return state\r\n\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = ()\r\n  : AddPostActionType => ({type: ADD_POST})\r\n\r\nexport const updateNewPostTextActionCreator = (text: string)\r\n  : UpdateNewPostTextActionType =>\r\n  ({type: UPDATE_NEW_POST_TEXT, newText: text})\r\n\r\nconst setUserProfile = (profile: ProfileResponseType | null)\r\n  : setUserProfileType =>\r\n  ({type: SET_USER_TYPE, profile})\r\n\r\nconst setStatus = (status: string)\r\n  : StatusActionType =>\r\n  ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (userId:number) => (dispatch: Dispatch)=> {\r\n  userAPI.getProfile(userId).then(response => {\r\n   dispatch(setUserProfile(response.data))\r\n  })\r\n}\r\n\r\nexport const getUserStatus = (userId:number) => (dispatch: Dispatch)=> {\r\n  profileAPI.getStatus(userId)\r\n    .then(response => {\r\n    dispatch(setStatus(response.data))\r\n  })\r\n}\r\n\r\nexport const updateStatus = (status:string) => (dispatch: Dispatch)=> {\r\n  profileAPI.updateStatus(status)\r\n    .then(response => {\r\n      if(response.data.resultCode === 0){\r\n        // dispatch(setStatus(response.data)) //{}\r\n       dispatch(setStatus(status))\r\n      }\r\n    })\r\n}\r\n\r\n","import React from 'react';\r\nimport classes from './Post.module.css'\r\n\r\ntype PostType = {\r\n    message: string\r\n    likeCounter: number\r\n}\r\n\r\nconst Post = (props: PostType) => {\r\n    return (\r\n\r\n            <div className={classes.item}>\r\n                <img src='https://www.meme-arsenal.com/memes/7bdea6754f999b50e9577596f09197fb.jpg'/>\r\n                {props.message}\r\n                <div>\r\n                <span>Like </span>\r\n                    <span>{props.likeCounter}</span>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Post","import classes from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport React, {ChangeEvent} from 'react';\r\n\r\n\r\n\r\n\r\nexport type postsType = {\r\n    id: number\r\n    message: string\r\n    likeCounter: number\r\n}\r\ntype MyPostsTypeProps = {\r\n    posts: Array<postsType>\r\n    newPostText: string\r\n    addPost: ()=> void\r\n    updateNewPostText:(text:string) => void\r\n}\r\n\r\n\r\n\r\n\r\nconst MyPosts = (props: MyPostsTypeProps) => {\r\n\r\n    let elementsPosts = props.posts\r\n        .map((p: { message: string; likeCounter: number; }) =>\r\n          <Post message={p.message} likeCounter={p.likeCounter}/>)\r\n\r\n    let onAddPost = () => {\r\n        props.addPost()\r\n    }\r\n\r\n    let onChangePost = (e:ChangeEvent<HTMLTextAreaElement>) => {\r\n        let text = e.currentTarget.value\r\n        props.updateNewPostText(text)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.postBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <div>\r\n                    <textarea value={props.newPostText} onChange={onChangePost}/>\r\n                </div>\r\n                <div>\r\n                    <button onClick={onAddPost}>Add post</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={classes.posts}>\r\n                {elementsPosts}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts, {postsType} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {statePropsType} from \"../../../redux/store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n//\r\n// type MyPostsContainerTypeProps = {\r\n//     // newPostText: string\r\n//     // posts: Array<postsType>\r\n//     // dispatch: (action: ActionsTypes) => void\r\n//     store:ReduxStoreType\r\n// }\r\n\r\n\r\n// const MyPostsContainer = () => {\r\n//     let state = props.store.getState()\r\n//\r\n//     let addPost = () => {\r\n//         props.store.dispatch(addPostActionCreator())\r\n//     }\r\n//\r\n//     let onChangePost = (text:string) => {\r\n//         let action = updateNewPostTextActionCreator(text);\r\n//         props.store.dispatch(action)\r\n//     }\r\n//\r\n//      return (<MyPosts updateNewPostText={onChangePost}\r\n//                       addPost={addPost}\r\n//                       posts={state.profilePage.posts}\r\n//                       newPostText={state.profilePage.newPostText}\r\n//\r\n//      />)\r\n// }\r\n//\r\n// export default MyPostsContainer\r\n\r\n\r\n\r\nconst mapStateToProps = (state: statePropsType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        addPost: () => {\r\n            dispatch(addPostActionCreator())\r\n        },\r\n        updateNewPostText: (text:string) => {\r\n            let action = updateNewPostTextActionCreator(text);\r\n            dispatch(action)\r\n        }\r\n    }\r\n}\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\n","import React from 'react';\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\n\r\nconst Profile = (props: any) => {\r\n        return (\r\n            <div>\r\n                <ProfileInfo\r\n                  profile={props.profile}\r\n                  status={props.status}\r\n                  updateStatus={props.updateStatus}/>\r\n                <MyPostsContainer/>\r\n            </div>\r\n        )\r\n    }\r\n\r\nexport default Profile\r\n\r\n","import React, {Component, ComponentType} from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppPropsType} from \"../../redux/redux-store\";\r\nimport {\r\n  getUserProfile, getUserStatus,\r\n  ProfileResponseType, updateStatus,\r\n} from \"../../redux/profile-reducer\";\r\nimport { RouteComponentProps, withRouter} from \"react-router-dom\";\r\n\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n  userId: string\r\n}\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & ownProps\r\n\r\ntype mapStateType = {\r\n  profile: ProfileResponseType | null\r\n  status: string\r\n\r\n}\r\n\r\ntype mdtpType = {\r\n  getUserProfile: typeof getUserProfile\r\n  getUserStatus: typeof getUserStatus\r\n  updateStatus: typeof updateStatus\r\n}\r\n\r\ntype ownProps = mapStateType & mdtpType\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if(!userId){\r\n      userId = '2'\r\n    }\r\n    this.props.getUserProfile(+userId)\r\n    this.props.getUserStatus(+userId)\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile\r\n          profile={this.props.profile}\r\n          status ={this.props.status}\r\n          updateStatus = {this.props.updateStatus}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state: AppPropsType): mapStateType => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n\r\n  }\r\n}\r\n// const AuthRedirectComponent = WithAuthRedirect(ProfileContainer)\r\n// let WithUrlDataContainerComponent = withRouter<RouteComponentProps<PathParamsType>, any>(AuthRedirectComponent)\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, {getUserProfile, getUserStatus, updateStatus}),\r\n  withRouter,\r\n  // WithAuthRedirect\r\n)(ProfileContainer)\r\n\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport classes from './Header.module.css'\r\n\r\ntype HeaderType = {\r\n  isAuth: boolean\r\n  login: null\r\n}\r\n\r\nconst Header = (props:HeaderType) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img\r\n        src='https://buddy.ghostpool.com/wp-content/themes/buddy/lib/images/logo.png'/>\r\n      <div className={classes.loginBlock}>\r\n        { props.isAuth ? props.login :\r\n          <NavLink to={'/login'}> Login </NavLink> }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import {ActionsTypes, authActionType} from \"./users-reducer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\n\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\nexport type AuthPropsType = {\r\n  userId: null\r\n  email: null\r\n  login: null\r\n  isAuth: boolean\r\n}\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nexport const authReducer = (state: AuthPropsType = initialState, action: ActionsTypes) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n\r\n}\r\n\r\n\r\nconst setAuthUserData = (userId: null, email: null, login: null): authActionType =>\r\n  ({type: SET_USER_DATA, data: {userId, email, login}})\r\n\r\nexport const getAuthUserData = () => (dispatch: Dispatch) => {\r\n  authAPI.me()\r\n    .then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login))\r\n      }\r\n    })\r\n}","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppPropsType} from \"../../redux/redux-store\";\r\nimport {getAuthUserData} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype mapStateToPropsType = {\r\n  isAuth: boolean\r\n  login: null\r\n}\r\n\r\ntype HeaderContainerType = {\r\n  getAuthUserData: () => void\r\n  isAuth: boolean\r\n  login: null\r\n}\r\nclass HeaderContainer extends React.Component<HeaderContainerType> {\r\n  componentDidMount() {\r\n    this.props.getAuthUserData()\r\n  }\r\n\r\n  render() {\r\n    return <Header isAuth={this.props.isAuth}\r\n                   login={this.props.login}\r\n    />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppPropsType): mapStateToPropsType => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData})(HeaderContainer)","export const Login = () => {\r\n  return(\r\n    <h1>LOGIN</h1>\r\n  )\r\n}","import React from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./components/users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {Login} from \"./components/Login/Login\";\n\n\nfunction App() {\n\n\n  return (\n    <BrowserRouter>\n      <div className='app-wrapper'>\n        <HeaderContainer/>\n        <Navbar/>\n        <div className={'app-wrapper-content'}>\n          <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n          <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n          <Route path='/news' render={() => <News/>}/>\n          <Route path='/music' render={() => <Music/>}/>\n          <Route path='/settings' render={() => <Settings/>}/>\n          <Route path='/users' render={() => <UsersContainer/>}/>\n          <Route path='/login' render={() => <Login/>}/>\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {ActionsTypes} from \"./users-reducer\";\r\n\r\n\r\ntype StateSidebarPropsType = {}\r\nconst initialState = {}\r\n\r\nexport const sidebarReducer = (state:StateSidebarPropsType =initialState , action:ActionsTypes)=> {\r\n    return state\r\n}","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\nexport type AppPropsType = ReturnType<typeof rootReducer>\r\n\r\nconst rootReducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer\r\n})\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n// @ts-ignore\r\nwindow.store = store\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n\n\n// let rerenderEntireTree = () => {\n\n    ReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n            <App />\n            </Provider>\n        </BrowserRouter>, document.getElementById('root'));\n\n// }\n// //\n// // rerenderEntireTree()\n// //\n// // store.subscribe(rerenderEntireTree)\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}